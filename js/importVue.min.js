const e=" >+~".split("").reduce(((e,t)=>(e[t]=!0,e)),{});function t(e){let t=[],r=!1,s=0,l=e.length;for(let n=0;n<l;n++)r?e[n]==r&&(r=!1):'"'==e[n]||"'"==e[n]?r=e[n]:","==e[n]&&(t.push(e.substr(s,n-s)),s=n+1);return s<l&&t.push(e.substr(s,l-s)),t}function r(t,r){let s=!1,l=0,n=!1;for(let r=t.length-1;r>=0;r--)if(s)t[r]==s&&(r&&"\\"==t[r]||(s=!1));else if(l>0)")"==t[r]?l++:"("==t[r]?l--:'"'!=t[r]&&"'"!=t[r]||(s=t[r]);else if('"'==t[r]||"'"==t[r])s=t[r];else if(")"==t[r])l++;else if(":"==t[r])n=r;else if(e[t[r]])break;return!1!==n?t.substr(0,n)+r+t.substr(n):t+r}function s(e,l){let n="";for(let o=0;o<e.length;o++){if(e[o]instanceof CSSMediaRule)s(e[o].cssRules,l);else if(e[o]instanceof CSSStyleRule){let s=t(e[o].selectorText).map((e=>e.includes(l)?e:r(e,l)));e[o].selectorText=s.join(",")}n+=e[o].cssText}return n}export default function l(e,t){if(t||(t=e,e=location.href),t=new URL(t,e).href,l.resolved[t])return Promise.resolve(l.resolved[t]);let r=crypto.randomUUID();return fetch(t).then((e=>e.text())).then((e=>new Promise((n=>{let o=e.match(/^(.*)<template>(.*)<\/template>(.*)$/s),c=null;o&&(c=o[2].trim(),e=o[1]+o[3]);let i=document.implementation.createHTMLDocument("");i.write(`<html><body>${e}</body></html>`);let u=null,a=Array.from(i.querySelectorAll("style")).map((e=>e.hasAttribute("scoped")?(u||(u=`[data-v-${r}]`),e.innerHTML=e.innerHTML.replace(/\s*\\?(?:>>>|\/deep\/|::v-deep)/,(e=>"\\"==e[0]?e.substr(1):u)),s(e.sheet.cssRules,u)):e.innerHTML.trim())),d=i.querySelector("script");d?(d=d.innerHTML,d=d.replace(/\bexport\s+default\s+/,"const __sfc__ = ")):d="const __sfc__ = {};",d=d.replace(/(\bimportVue\()/g,`$1'${t}', `),c&&(d+="\n__sfc__.template = `"+c.replace(/`/g,"\\`").replace(/\$\{/g,'\\$${')+"`;"),u&&(d+=`\n__sfc__.__scopeId = "data-v-${r}";`),a.length&&(d+="\nconst style = document.createElement('style');",d+="\nstyle.setAttribute('type', 'text/css');",d+=`\nstyle.setAttribute('url', '${t}');`,d+=`\nstyle.innerHTML = \`${a.join("\n").replace("`","\\`")}\`;`,d+="\ndocument.head.appendChild(style);"),d+=`\nimportVue.resolvers['${r}'](__sfc__);`,l.resolvers[r]=n;let p=document.createElement("script");p.setAttribute("type","module"),p.setAttribute("url",t),p.innerHTML=d,document.head.appendChild(p)})).then((e=>(delete l.resolvers[r],l.resolved[t]=e)))))}l.resolvers={},l.resolved={},window.importVue=l;